<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UP ‚Ä¢ RSP Growth Demo (Simplified)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    :root{--bg:#0b1220;--panel:#111827;--ink:#e5e7eb;--muted:#94a3b8;--accent:#22c55e;--accent2:#60a5fa;--promoStart:#3f6212;--promoEnd:#166534}
    *{box-sizing:border-box}
    body{margin:0;background:radial-gradient(1200px 600px at 70% -100px,#0e1a34 0%,#0b1220 60%);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    .wrap{max-width:1100px;margin:20px auto;padding:16px}
    .panel{background:rgba(17,24,39,.72);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.08);border-radius:20px;padding:18px}
    .row{display:grid;grid-template-columns:1fr;gap:14px}
    @media (min-width:960px){.row{grid-template-columns:1.15fr .85fr}}
    h1{font-size:22px;margin:0}
    .tag{display:inline-flex;align-items:center;gap:8px;background:#052e16;color:#bbf7d0;border:1px solid #14532d;padding:6px 10px;border-radius:999px;font-size:12px;margin:8px 0}
    .sub{color:var(--muted);font-size:14px}
    label{font-weight:600;font-size:13px}
    input,select{width:100%;padding:12px 14px;border-radius:12px;border:1px solid #223047;background:#0b1222;color:var(--ink);outline:none}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .btn{display:inline-flex;align-items:center;gap:8px;border:1px solid rgba(255,255,255,.12);background:#0b1222;padding:10px 14px;border-radius:12px;color:var(--ink);cursor:pointer}
    .btn:hover{border-color:rgba(255,255,255,.22)}
    .btn-pill{padding:6px 10px;border-radius:999px;font-size:12px}
    .kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
    .kpi{padding:14px;border:1px dashed rgba(255,255,255,.12);border-radius:14px}
    .kpi .v{font-size:22px;font-weight:800}
    .kpi .m{color:var(--muted);font-size:12px;margin-top:4px}
    .right .panel{height:100%}
    .range{display:grid;grid-template-columns:80px 1fr 60px;gap:10px;align-items:center}
    .range input[type=range]{accent-color:#22c55e}
    .quick{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .badge{display:inline-flex;align-items:center;gap:6px;background:#0b1a2a;border:1px solid #1f2a44;padding:6px 10px;border-radius:12px;font-size:12px}
    .talk{font-size:12px;color:#cbd5e1;line-height:1.4}
    .footer{font-size:11px;color:#9aa8c3;margin-top:10px}
    .hero{display:flex;align-items:center;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{height:48px;width:auto;border-radius:6px}
    .confetti{position:fixed;inset:0;pointer-events:none}
    a{color:#93c5fd;text-decoration:none}
    .below{max-width:900px;margin:0 auto;display:flex;flex-direction:column;gap:10px;align-items:center;text-align:center}
    .below .grid-center{display:grid;grid-template-columns:1fr;gap:8px;width:min(900px,100%)}
    @media (min-width:900px){ .below .grid-center{grid-template-columns:1fr 1fr} }

    /* Center the chart & result */
    .chart-wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px}
    .result-line{margin:0 auto;max-width:900px;text-align:center;background:#0b1a2a;border:1px solid #1f2a44;padding:10px 12px;border-radius:12px;font-size:14px;width:100%}

    /* Full-width promo banner below */
    .promo-wrap{margin-top:16px}
    .promo{background:linear-gradient(90deg,var(--promoStart),var(--promoEnd));border:1px solid #14532d;border-radius:16px;padding:18px;text-align:center}
    .promo h2{margin:0 0 6px 0;font-size:18px;color:#bbf7d0}
    .promo p{margin:0;color:#d1fae5;font-size:14px}
    .store-links{margin-top:10px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
    .store{display:inline-flex;align-items:center;gap:8px;background:#0b1222;border:1px solid #1f2a44;padding:10px 14px;border-radius:12px;color:#e5e7eb;font-weight:700}
    .tnc{font-size:11px;color:#a7f3d0;margin-top:10px}
  </style>
</head>
<body>
<canvas class="confetti" id="confetti"></canvas>
<div class="wrap">
  <!-- Header -->
  <div class="panel" style="margin-bottom:12px">
    <div class="hero">
      <div class="brand">
        <img src="https://i.imgur.com/Ond0W9h.jpeg" alt="UP Logo"/>
        <div>
          <h1>Regular Savings Plan ‚Ä¢ Interactive Demo</h1>
          <div class="tag">Start with as little as <b>S$1</b> ‚Äî consistency beats timing.</div>
        </div>
      </div>
    </div>
    <div class="sub">Students enter a monthly amount, pick an ETF, and see how a Regular Savings Plan (RSP) compounds over time.</div>
  </div>

  <!-- Controls + KPIs (left/right layout preserved) -->
  <div class="row">
    <div class="left panel">
      <div class="grid">
        <div>
          <label>ETF (historical total‚Äëreturn CAGR)</label>
          <select id="etf"></select>
        </div>
        <div>
          <label>Duration (years)</label>
          <select id="years">
            <option>3</option>
            <option>5</option>
            <option selected>10</option>
            <option>15</option>
          </select>
        </div>
      </div>

      <div style="margin-top:12px">
        <label>Monthly contribution (S$) ‚Äî min S$1</label>
        <div class="range">
          <input id="monthlyInput" type="number" min="1" step="1" value="100"/>
          <input id="monthlyRange" type="range" min="1" max="1000" value="100"/>
          <button class="btn btn-pill" id="confettiBtn" title="Celebrate a good habit!">üéâ Celebrate</button>
        </div>
        <div class="quick">
          <button class="btn btn-pill" data-amt="1">S$1</button>
          <button class="btn btn-pill" data-amt="10">S$10</button>
          <button class="btn btn-pill" data-amt="50">S$50</button>
          <button class="btn btn-pill" data-amt="100">S$100</button>
          <button class="btn btn-pill" data-amt="300">S$300</button>
        </div>
      </div>

      <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn" onclick="recalc()">Calculate</button>
        <button class="btn" onclick="resetForm()">Reset</button>
      </div>

      <div class="footer">For education only. Past performance ‚â† future results.</div>
    </div>

    <div class="right">
      <div class="panel">
        <div class="kpis">
          <div class="kpi">
            <div class="m">Total contributed</div>
            <div class="v" id="k_contrib">‚Äî</div>
            <div class="m" id="k_contrib_m">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="m">Projected value (RSP)</div>
            <div class="v" id="k_value">‚Äî</div>
            <div class="m" id="k_value_tip">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="m">Estimated gains</div>
            <div class="v" id="k_gain">‚Äî</div>
            <div class="m" id="k_gain_tip">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="m">Implied CAGR</div>
            <div class="v" id="k_rate">‚Äî</div>
            <div class="m" id="k_rate_tip">‚Äî</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Centered chart with result line below -->
  <div class="panel chart-wrap" style="margin-top:12px">
    <canvas id="chart" height="230" style="max-width:900px;width:100%"></canvas>
    <div id="resultLine" class="result-line">Enter an amount and click <b>Calculate</b> to see your result.</div>
  </div>

  <!-- Messages -->
  <div class="panel below" style="margin-top:12px">
    <div class="grid-center">
      <div>
        <div class="badge">üí° <b>Message:</b> Start from <b>S$1</b>. Small, regular steps compound.</div>
        <div class="badge">üìâ <b>Dips help buyers:</b> RSP buys more units when prices are lower.</div>
        <div class="badge">üß† <b>No timing stress:</b> set‚Äëand‚Äëforget consistency.</div>
      </div>
      <div class="talk">
        ETFs & historical CAGRs used (as of Aug¬†2025): SPY (5y 15.26%, 10y 13.71%), QQQ (5y 16.53%, 10y 18.68%), 
        VTI (5y 14.57%, 10y 13.14%), VT (5y 12.78%, 10y 9.99%). We convert annual CAGR to a monthly rate
        r<sub>m</sub> = (1 + r)^(1/12) ‚àí 1.
      </div>
    </div>
  </div>

  <!-- Promo banner BELOW -->
  <div class="promo-wrap">
    <div class="promo">
      <h2>üéÅ SIM Campaign: Get <b>US$20</b> of S&amp;P 500 ETF</h2>
      <p>Download UP and open an account ‚Äî <b>no funding and no trading required</b> (SIM-only campaign).</p>
      <div class="store-links">
        <a class="store" href="https://apps.apple.com/us/app/up-live-up-invest-up/id6468649982" target="_blank" rel="noopener">Ô£ø App¬†Store</a>
        <a class="store" href="https://play.google.com/store/apps/details?id=com.moveup.apps&hl=en-SG" target="_blank" rel="noopener">‚ñ∂ Google¬†Play</a>
      </div>
      <div class="tnc">T&Cs: New users only ‚Ä¢ Subject to eligibility & account approval ‚Ä¢ Credited as approx. US$20 worth of S&amp;P 500 ETF ‚Ä¢ Full terms available at the booth.</div>
    </div>
  </div>
</div>

<script>
// ETF dataset (as of Aug 2025)
const ETF_DATA = {
  SPY: { name: 'SPDR S&P 500 (SPY)', cagr5: 0.1526, cagr10: 0.1371 },
  QQQ: { name: 'Invesco QQQ (QQQ)', cagr5: 0.1653, cagr10: 0.1868 },
  VTI: { name: 'Vanguard Total US (VTI)', cagr5: 0.1457, cagr10: 0.1314 },
  VT:  { name: 'Vanguard Total World (VT)', cagr5: 0.1278, cagr10: 0.0999 },
};

const etfSel = document.getElementById('etf');
Object.entries(ETF_DATA).forEach(([k, v]) => {
  const opt = document.createElement('option');
  opt.value = k; opt.textContent = v.name; etfSel.appendChild(opt);
});
etfSel.value = 'SPY';

const yearsEl = document.getElementById('years');
const monthlyInput = document.getElementById('monthlyInput');
const monthlyRange = document.getElementById('monthlyRange');
document.querySelectorAll('.quick .btn').forEach(b=>b.addEventListener('click', ()=>{
  monthlyInput.value = b.dataset.amt; monthlyRange.value = b.dataset.amt; recalc();
}));
monthlyInput.addEventListener('input', ()=>{ monthlyRange.value = monthlyInput.value; live(); });
monthlyRange.addEventListener('input', ()=>{ monthlyInput.value = monthlyRange.value; live(); });

// Confetti
const confettiCanvas = document.getElementById('confetti');
const ctx2 = confettiCanvas.getContext('2d');
let confettiPieces = [];
function resize(){ confettiCanvas.width = innerWidth; confettiCanvas.height = innerHeight; }
addEventListener('resize', resize); resize();
function spawnConfetti(){
  confettiPieces = Array.from({length:100}, ()=> ({
    x: Math.random()*confettiCanvas.width,
    y: -10 - Math.random()*100,
    r: 2 + Math.random()*4,
    c: ['#22c55e','#60a5fa','#eab308','#f43f5e'][Math.floor(Math.random()*4)],
    v: 1 + Math.random()*3
  }));
}
function tick(){
  ctx2.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
  confettiPieces.forEach(p=>{
    p.y += p.v; p.x += Math.sin(p.y/20);
    ctx2.beginPath(); ctx2.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx2.fillStyle = p.c; ctx2.fill();
  });
  confettiPieces = confettiPieces.filter(p=>p.y < confettiCanvas.height+10);
  requestAnimationFrame(tick);
}
tick();
document.getElementById('confettiBtn').addEventListener('click', ()=>{ spawnConfetti(); });

let chart;
function fmt(n){return n.toLocaleString(undefined,{style:'currency',currency:'SGD',maximumFractionDigits:0})}
function pct(n){return (n*100).toFixed(2)+'%'}

function calcRSP(monthly, years, annualRate){
  const months = years*12;
  const mRate = Math.pow(1+annualRate, 1/12) - 1;
  let value = 0; let series = [];
  for(let m=1; m<=months; m++){
    value = value * (1+mRate) + monthly;
    series.push(value);
  }
  return {value, series, mRate};
}

function live(){ // instant feedback for sliders
  document.getElementById('k_contrib').textContent = fmt((+monthlyInput.value||0) * 12 * (+yearsEl.value||0));
  document.getElementById('k_contrib_m').textContent = (+monthlyInput.value||0) > 0 ? `S$${(+monthlyInput.value).toLocaleString()} per month` : '‚Äî';
}

function recalc(){
  const monthly = Math.max(1, +monthlyInput.value || 1);
  monthlyInput.value = monthly; monthlyRange.value = monthly;
  const years = +yearsEl.value;
  const key = etfSel.value; const data = ETF_DATA[key];
  const annual = years <= 5 ? data.cagr5 : data.cagr10;

  const rsp = calcRSP(monthly, years, annual);
  const totalContrib = monthly*12*years;
  const gains = rsp.value - totalContrib;

  document.getElementById('k_contrib').textContent = fmt(totalContrib);
  document.getElementById('k_contrib_m').textContent = `S$${monthly.toLocaleString()} per month`;
  document.getElementById('k_value').textContent = fmt(rsp.value);
  document.getElementById('k_gain').textContent = fmt(Math.max(0,gains));
  document.getElementById('k_rate').textContent = pct(annual);
  document.getElementById('k_value_tip').textContent = 'Steady CAGR model';
  document.getElementById('k_gain_tip').textContent = 'Compounding over time';
  document.getElementById('k_rate_tip').textContent = years<=5? 'Using 5‚Äëyear CAGR' : 'Using 10‚Äëyear CAGR';

  const labels = Array.from({length: years*12}, (_,i)=>`M${i+1}`);
  const ds = [{label:'RSP Value', data:rsp.series}];

  if(chart) chart.destroy();
  chart = new Chart(document.getElementById('chart').getContext('2d'), {
    type:'line',
    data:{ labels, datasets: ds.map(d=>({ label:d.label, data:d.data, tension:.25, borderWidth:2, pointRadius:0 })) },
    options:{
      responsive:true,
      plugins:{ legend:{labels:{color:'#e5e7eb'}}, tooltip:{mode:'index', intersect:false} },
      scales:{ x:{ticks:{color:'#94a3b8'}}, y:{ticks:{color:'#94a3b8'}, grid:{color:'rgba(255,255,255,.06)'}} }
    }
  });

  document.getElementById('resultLine').innerHTML =
    `Your RSP value after <b>${years} years</b>: <b>${fmt(rsp.value)}</b>`;
}

function resetForm(){
  etfSel.value='SPY'; yearsEl.value='10'; monthlyInput.value=100; monthlyRange.value=100;
  recalc();
}

// initial render
live(); recalc();
</script>
</body>
</html>
